\usepackage{xargs}
% \usepackage{bm}  some strange fonts needed somewhere

%%% Macros usuful almost everywhere


% such that

%%% My flags
\newif\ifemi
%%% My flags end

\newcommand{\nota}[2][TODO]{::\textcolor{red}{#1}:: \color{cyan} #2}
\newcommand{\okey}{\dSmiley}
\newcommand{\yeko}{\dXey}

\newcommand{\tnxbehapi}[1][partly]{
  Research {#1} supported by the EU
  H2020 RISE programme under the Marie SkÅ‚odowska-Curie grant
  agreement No 778233.
}

\DeclareGraphicsExtensions{%
    .png,.PNG,%
    .pdf,.PDF,%
    .jpg,.mps,.jpeg,.jbig2,.jb2,.JPG,.JPEG,.JBIG2,.JB2}

\usepackage[UKenglish]{babel}
  
\usepackage{fixme}
\fxusetheme{color}
\FXRegisterAuthor{eM}{aeM}{\color{orange} {\underline{eM}}}
%\usepackage[disable]{todonotes}

\usepackage[normalem]{ulem} % underline command breaks over line ends

\usepackage{xifthen}        % for conditional commands
\newcommand{\ifempty}[3]{%
  \ifthenelse{\isempty{#1}}{#2}{#3}%
}


\newcommand{\mkfun}[4][\colorFun]{
  \newcommand{#2}[1][#4]{
    {#1\textsf{#3}}
    \ifempty{##1}{}{
      ({##1})}
  }
}

\newcommand{\mkuop}[4][\colorFun]{
  \newcommand{#2}[1][#4]{
    {#1\textsf{#3}}
    \ifempty{##1}{}{
      \, {##1}}
  }
}

%%% Meta comments
\newcommand{\hidden}[1]{}
\newcommand{\hide}[1]{}

\newcommand{\cf}[2]{
  \fontsize{#1}{#1}{\selectfont{#2}}
}
\ifemi
\usepackage{showlabels}
\renewcommand{\showlabelsetlabel}[1]{{\textcolor{ForestGreen}{\showlabelfont{\tiny #1}}}}
\newcommand{\emi}[2]{
  \marginpar{\fcolorbox{red}{shadecolor}{\cf{#1}{{#2}}}}
}
\newcommand{\emic}[2]{\par
  \fcolorbox{red}{shadecolor}{\parbox{\linewidth}{ 
      \color{gray}
      \begin{description}
      \item[{\color{blue} #2}]{\sf #1}
      \end{description}}}
}
\else
\newcommand{\emi}[2]{}
\newcommand{\emic}[2]{}{}
\fi

\newcommand{\marginnote}[1]{
  {\makebox[0pt]{\color{orange}}}
  \marginpar{\parbox{2cm}{\flushleft \tiny \color{orange}{#1}}}
}
\newcommand{\side}[2][6]{
  \marginpar{\cf{#1}{\hl{#2}}}
}
%%% Meta comments end



%%% Maths & logic
\newcommand{\mkset}[1]{\big\{ {#1} \big\}} %%% formerly called \ASET
\newcommand{\partsof}[1]{2^{#1}} %%% formerly called \ASET
\newcommand{\setof}[1]{\mkset{#1}}
\newcommand{\setdef}[2]{\mkset{#1 \sst #2}}
\newcommand{\card}[1]{\|{#1}\|}
\newcommand{\sst}{\;\big|\;}
\newcommand{\qst}{\;\colon\;} %such that
\newcommand{\dom}[1]{\operatorname{dom} {#1}}
\newcommand{\cod}[1]{\operatorname{cod} {#1}}
\newcommand\myenddef{~\hfill \ensuremath{\diamond}}
\newcommand{\conf}[1]{\ensuremath{\langle {#1} \rangle}}
\newcommand{\tuple}[1]{\conf{#1}}
\newcommand{\acsconf}[2]{\conf{{#1} \ ; \ {#2}}}
%\renewcommand{\vec}[1]{\overset{\to}{#1}}
\newcommand{\ith}[2]{\vec{#1}[{#2}]}
\newcommand{\bnfdef}{\ ::=\ }
\newcommand{\bnfmid}{\;\ \big|\ \;}
\newcommand{\sep}{\;\bnfmid\;}
\newcommand{\emptyword}{\varepsilon}
\newcommand{\aword}{\varphi}
\newcommand{\langof}[1]{\mathcal{L}(#1)}
\newcommand{\sem}[2][]{\mbox{\ensuremath{\llbracket{#2}\rrbracket_{#1}}}}
\newcommand{\qmmdef}{\quad \mmdef \quad}
\newcommand{\qqmmdef}{\qquad \mmdef \qquad}
\newcommand{\qqand}{\qquad\text{and}\qquad}
\newcommand{\qand}{\quad\text{and}\quad}
\newcommand{\verum}{\mathtt{tt}}
\newcommand{\falsus}{\mathtt{ff}}
\newcommand{\nat}{\mathbb{N}}
\newcommand{\upd}[3]{{#1}[{#2} \mapsto {#3}]}

%%% Maths & logic end



%%% Typographic style
\newcommand{\defrule}[1]{%
  % \hypertarget{rule:{#1}}
  {%
    \text{\scriptsize[\textbf{#1}]}%
  }%
}
\newcommand{\ie}{\text{i.e.}}
\newcommand{\cfw}{\text{cf.}}
\newcommand{\eg}{\text{e.g.}}
\newcommand{\aka}{\text{a.k.a.}}
\newcommand{\mypar}[1]{\noindent\paragraph{\textbf{#1}}\ }
\newcommand{\secref}[1]{\S~\ref{#1}}
\newcommand{\figref}[1]{Fig.~\ref{#1}}
\newcommand{\exref}[1]{Ex.~\ref{#1}}
\newcommand{\defref}[1]{Definition~\ref{#1}}
\newcommand{\exeref}[1]{Exercise~\ref{#1}}
\newcommand{\rmkref}[1]{Remark~\ref{#1}}
\newtheorem{rmk}{Remark}{\bfseries}{\rmfamily}
\newtheorem{exe}{Exercise}{\bfseries}{\rmfamily}
\newcommand{\sidebyside}[2]{
  \begin{tabular}{ll}
    \begin{minipage}{.5\linewidth} {#1}  \end{minipage}
    &
    \begin{minipage}{.5\linewidth} {#2}  \end{minipage}
  \end{tabular}
}
\newcommand{\eqdef}{\ \triangleq\ }
\newcommand{\mmdef}{\eqdef}
%%% Typographic style end



%%% Arrows
\def\ured{\rightarrow}
\def\tred#1{\overstackrel{\rightarrowfill}{#1}}
\def\iured#1{\rightarrow_{\descr{\scriptstyle #1}}}
\def\itred#1#2{\mathrel{{\overstackrel{\rightarrowfill}{#2}}_{\descr
      {\scriptstyle #1}}}}
\def\sytr#1{\overstackrel{\longmapsto}{#1}}
\def\tr#1{\overstackrel{\rightarrowfill}{#1}}
\def\actr#1#2{\overstackrel{\rightarrowfill}{\act {#1}{#2}}}
\def\iactr#1#2#3{\overstackrel{\rightarrowfill}{\act {#2}{#3}}_{\descr
    {\scriptstyle #1}}}
\def\dlarrow#1#2{\overunderstackrel{\rightarrowfill}{#1}{#2}}
\def\ddlarrow#1#2{\overunderstackrel{\longmapsto}{#1}{#2}}
\def\Dlarrow#1#2{\overunderstackrel{\Longrightarrow}{#1}{#2}}
\def\dmtarrow#1#2{\overunderstackrel{\longmapsto}{#1}{#2}}
\def\mtarrow#1{\overstackrel{\longmapsto}{#1}}
\newcommand{\mylarrow}[1]{\overstackrel{\rightarrowfill}{#1}}

\newcommand{\partarrow}[2]{\overunderstackrel{\rightarrowfill}{\ \ \mbox{\scriptstyle $#1$}\ \ }{\ \mbox{\scriptstyle $#2$}\ }\!\!\!>}
\newcommand{\arw}[1]{\overstackrel{\rightarrowfill}{#1}}
\newcommand{\newpartarrow}[2]{\partarrow{#1}{}}
\newcommand{\spartarrow}[1]{\overstackrel{\rightarrowfill}{\ \ \mbox{\scriptstyle $#1$}\ \ \ }\!\!\!\!\!>}
\newcommand{\trlts}[1]{\overstackrel{\rule[.8mm]{7mm}{.2mm}}{#1}\!\!\blacktriangleright}
\newcommand{\trred}{\overstackrel{\rule[.8mm]{7mm}{.2mm}}\!\!\vartriangleright}
%%% Arrows end

%%% Others
\newcommand{\squo}[1]{\lq {#1}\rq}
\newcommand{\quo}[1]{\lq\lq {#1}\rq\rq}
\def\finex{{\unskip\nobreak\hfil
\penalty50\hskip1em\null\nobreak\hfil$\diamond$
\parfillskip=0pt\finalhyphendemerits=0\endgraf}}
\newenvironment{myex}{\begin{example}\it}{\finex\end{example}}
\newcommand{\HSLtag}{\scalebox{1.25}{%
  \begin{tikzpicture}
  \draw (0.1,0.2) -- (0.2,0.115) -- (0.3,0.2) ;
  %
  \draw (0.1,0.2) -- (0.15,0.1) ;
  \draw (0.3,0.2) -- (0.25,0.1) ;
  %
  \draw (0.12,0.1) -- (0.2,0.05) -- (0.28,0.1) ;
  %
  \draw (0.2,0) circle (0.12) ; 
  \draw (0.16,0.04) circle (0.01) ;
  \draw (0.24,0.04) circle (0.01) ;
  \draw (0.15,-0.07) -- (0.25,-0.07) ;
  \end{tikzpicture}
}}
\newcommand{\HSLbox}{\rule{1ex}{1ex}}
\newcommand{\hsl}[1][]{{\color{red}\vbox{\medskip\noindent\hrulefill \\[5pt]
  \HSLtag \hspace{\stretch{1}}HIC SUNT
  LEONES \; {#1}\hspace{\stretch{1}} \HSLtag \\ \smallskip\noindent\hrulefill \\}}}
%%% Others end

\newcommand{\grmeq}{\; ::= \;}
\newcommand{\grmor}{\; \big| \;}


%%% My colors
\definecolor{shadecolor}{rgb}{1,0.99,0.9}
\definecolor{bg}{rgb}{0.95,0.95,0.95}
\newcommand{\newgreen}{green!50!blue!100}
%%% My colors end













